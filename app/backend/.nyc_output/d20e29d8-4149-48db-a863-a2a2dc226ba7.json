{"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":66}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":29}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":22}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":64}},"10":{"start":{"line":14,"column":40},"end":{"line":14,"column":62}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":48}},"12":{"start":{"line":20,"column":30},"end":{"line":25,"column":9}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":59}},"14":{"start":{"line":22,"column":12},"end":{"line":22,"column":92}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":60}},"16":{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},"17":{"start":{"line":26,"column":8},"end":{"line":26,"column":37}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":36}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":76}},"20":{"start":{"line":30,"column":36},"end":{"line":30,"column":74}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":39}},"22":{"start":{"line":36,"column":0},"end":{"line":36,"column":18}},"23":{"start":{"line":38,"column":0},"end":{"line":38,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":18,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":26},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":40},"end":{"line":14,"column":62}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":13},"end":{"line":28,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":30},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":51},"end":{"line":25,"column":9}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":16},"end":{"line":31,"column":5}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":30},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":36},"end":{"line":30,"column":74}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":13},"end":{"line":34,"column":5}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":14,"14":14,"15":14,"16":14,"17":1,"18":1,"19":0,"20":0,"21":1,"22":1,"23":1},"f":{"0":1,"1":0,"2":1,"3":14,"4":0,"5":0,"6":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,gCAA8B;AAE9B,mEAA4D;AAC5D,qCAA6B;AAE7B,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAExD,4EAA4E;QAC5E,6DAA6D;QAC7D,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,yBAAe,CAAC,CAAC;IAChC,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAK,CAAC,CAAC;IACtB,CAAC;CACF;AAEQ,kBAAG;AAEZ,2FAA2F;AAC5E,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport 'express-async-errors';\n\nimport errorMiddleware from './middlewares/errorMiddleware';\nimport route from './routes';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.config();\n\n    this.routes();\n    // Não remover essa rota\n    this.app.get('/', (req, res) => res.json({ ok: true }));\n\n    // Não remova esse middleware de erro, mas fique a vontade para customizá-lo\n    // Mantenha ele sempre como o último middleware a ser chamado\n    this.app.use(errorMiddleware);\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(express.json());\n    this.app.use(accessControl);\n  }\n\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n\n  private routes(): void {\n    this.app.use(route);\n  }\n}\n\nexport { App };\n\n// Essa segunda exportação é estratégica, e a execução dos testes de cobertura depende dela\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4b57c6ff1e0c0121a176c01aa7e34a49288d8c62"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/errorMiddleware.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/errorMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":19},"end":{"line":4,"column":42}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":59}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":23}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":48}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}}},"fnMap":{"0":{"name":"errorMiddleware","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":24}},"loc":{"start":{"line":3,"column":50},"end":{"line":8,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":42}},"type":"binary-expr","locations":[{"start":{"line":4,"column":19},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":42}}],"line":4},"1":{"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":59}},"type":"binary-expr","locations":[{"start":{"line":5,"column":20},"end":{"line":5,"column":33}},{"start":{"line":5,"column":37},"end":{"line":5,"column":59}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1],"1":[1,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/errorMiddleware.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/errorMiddleware.ts"],"names":[],"mappings":";;AAGA,SAAS,eAAe,CAAC,KAAmB,EAAE,IAAa,EAAE,GAAa,EAAE,KAAmB;IAC7F,MAAM,MAAM,GAAG,KAAK,CAAC,UAAU,IAAI,GAAG,CAAC;IACvC,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,sBAAsB,CAAC;IAExD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9C,CAAC;AAED,kBAAe,eAAe,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport ICustomError from '../Interfaces/ICustomError';\n\nfunction errorMiddleware(error: ICustomError, _req: Request, res: Response, _next: NextFunction) {\n  const status = error.statusCode || 500;\n  const message = error.message || 'Something went wrong';\n\n  console.log(error);\n  return res.status(status).json({ message });\n}\n\nexport default errorMiddleware;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"babc34c306d7639bde23ccbd7dfe214d01e560ec"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/index.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":46}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":48}},"4":{"start":{"line":6,"column":22},"end":{"line":6,"column":46}},"5":{"start":{"line":7,"column":28},"end":{"line":7,"column":58}},"6":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":45}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":55}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/index.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/index.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,+CAAmC;AACnC,iDAAyC;AACzC,+CAAwC;AACxC,2DAAoD;AAEpD,MAAM,KAAK,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEvB,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,qBAAM,CAAC,CAAC;AAC5B,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAC;AACjC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,qBAAW,CAAC,CAAC;AACnC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,2BAAiB,CAAC,CAAC;AAE7C,kBAAe,KAAK,CAAC","sourcesContent":["import { Router } from 'express';\nimport router from './teams.route';\nimport loginRouter from './login.routes';\nimport matchRouter from './match.route';\nimport leaderboardRouter from './leaderboard.route';\n\nconst route = Router();\n\nroute.use('/teams', router);\nroute.use('/login', loginRouter);\nroute.use('/matches', matchRouter);\nroute.use('/leaderboard', leaderboardRouter);\n\nexport default route;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dc9afd98a09dc1adf44397462d00a6655726cec3"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":60}},"6":{"start":{"line":7,"column":30},"end":{"line":7,"column":58}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":64}},"8":{"start":{"line":8,"column":33},"end":{"line":8,"column":62}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":16},"end":{"line":7,"column":17}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":58}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":19},"end":{"line":8,"column":20}},"loc":{"start":{"line":8,"column":33},"end":{"line":8,"column":62}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,oEAA4D;AAE5D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,UAAU,GAAG,IAAI,yBAAc,EAAE,CAAC;AAExC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAC/E,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEnF,kBAAe,MAAM,CAAC","sourcesContent":["import { Router, Response, Request } from 'express';\nimport TeamController from '../controllers/team.controller';\n\nconst router = Router();\n\nconst controller = new TeamController();\n\nrouter.get('/', (req: Request, res: Response) => controller.findAll(req, res));\nrouter.get('/:id', (req: Request, res: Response) => controller.findById(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"10150e596e2570a9af9132d2559d63123843d81d"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/team.controller.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/team.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"3":{"start":{"line":9,"column":25},"end":{"line":9,"column":57}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":63}},"5":{"start":{"line":13,"column":23},"end":{"line":13,"column":33}},"6":{"start":{"line":14,"column":25},"end":{"line":14,"column":68}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":63}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":60},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":29},"end":{"line":16,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":58}},"type":"default-arg","locations":[{"start":{"line":5,"column":30},"end":{"line":5,"column":58}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/team.controller.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/team.controller.ts"],"names":[],"mappings":";;AACA,2DAAmD;AAEnD,MAAqB,cAAc;IACjC,YAAoB,cAA2B,IAAI,sBAAW,EAAE;QAA5C,gBAAW,GAAX,WAAW,CAAiC;IAAG,CAAC;IAEpE,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa;QACvC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAElD,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,GAAY,EAAE,GAAa;QACxC,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAE1B,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAE7D,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;CACF;AAhBD,iCAgBC","sourcesContent":["import { Request, Response } from 'express';\nimport TeamService from '../services/team.service';\n\nexport default class TeamController {\n  constructor(private teamService: TeamService = new TeamService()) {}\n\n  async findAll(req: Request, res: Response): Promise<Response> {\n    const response = await this.teamService.findAll();\n\n    return res.status(response.status).json(response.data);\n  }\n\n  async findById(req: Request, res: Response): Promise<Response> {\n    const { id } = req.params;\n\n    const response = await this.teamService.findById(Number(id));\n\n    return res.status(response.status).json(response.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d50e8837e76e1f44782a13be5b58a4aa6a07f9eb"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/team.service.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/team.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":52}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":44}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":54}},"6":{"start":{"line":14,"column":8},"end":{"line":19,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":18,"column":14}},"8":{"start":{"line":20,"column":8},"end":{"line":20,"column":43}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":56},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":21,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":54}},"type":"default-arg","locations":[{"start":{"line":5,"column":28},"end":{"line":5,"column":54}}],"line":5},"1":{"loc":{"start":{"line":14,"column":8},"end":{"line":19,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":19,"column":9}},{"start":{"line":14,"column":8},"end":{"line":19,"column":9}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1],"1":[0,1]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/team.service.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/team.service.ts"],"names":[],"mappings":";;AAGA,qDAA6C;AAE7C,MAAqB,WAAW;IAC9B,YAAoB,YAAwB,IAAI,oBAAS,EAAE;QAAvC,cAAS,GAAT,SAAS,CAA8B;IAAG,CAAC;IAE/D,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAE7C,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,IAAI,EAAE;YACT,OAAO;gBACL,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE;aACpC,CAAC;SACH;QAED,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACrC,CAAC;CACF;AArBD,8BAqBC","sourcesContent":["import { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport ITeam from '../Interfaces/teams/ITeam';\nimport ITeamModel from '../Interfaces/teams/ITeamModel';\nimport TeamModel from '../models/team.model';\n\nexport default class TeamService {\n  constructor(private teamModel: ITeamModel = new TeamModel()) {}\n\n  async findAll(): Promise<ServiceResponse<ITeam[]>> {\n    const teams = await this.teamModel.findAll();\n\n    return { status: 200, data: teams };\n  }\n\n  async findById(id: number): Promise<ServiceResponse<ITeam>> {\n    const team = await this.teamModel.findById(id);\n\n    if (!team) {\n      return {\n        status: 404,\n        data: { message: 'Team not found' },\n      };\n    }\n\n    return { status: 200, data: team };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9aaf28bf20b08f51b407dd785bf1e77f73cf884"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/team.model.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/team.model.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":77}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":50}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":48}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":50}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":15,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":2,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/team.model.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/team.model.ts"],"names":[],"mappings":";;AAEA,8EAAuE;AAEvE,MAAqB,SAAS;IAA9B;QACU,UAAK,GAAG,4BAAkB,CAAC;IAarC,CAAC;IAXC,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QAEzC,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE3C,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAdD,4BAcC","sourcesContent":["import ITeamModel from '../Interfaces/teams/ITeamModel';\nimport ITeam from '../Interfaces/teams/ITeam';\nimport TeamModelSequelize from '../database/models/TeamModelSequelize';\n\nexport default class TeamModel implements ITeamModel {\n  private model = TeamModelSequelize;\n\n  async findAll(): Promise<ITeam[] | []> {\n    const teams = await this.model.findAll();\n\n    return teams;\n  }\n\n  async findById(id: number): Promise<ITeam | null> {\n    const team = await this.model.findByPk(id);\n\n    return team;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1d8deae87c5214013b6c4078e72d0b0849dab4c7"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/login.routes.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/login.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":69}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":20},"end":{"line":6,"column":43}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":56}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"7":{"start":{"line":8,"column":36},"end":{"line":8,"column":67}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":94}},"9":{"start":{"line":9,"column":55},"end":{"line":9,"column":92}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":22},"end":{"line":8,"column":23}},"loc":{"start":{"line":8,"column":36},"end":{"line":8,"column":67}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":41},"end":{"line":9,"column":42}},"loc":{"start":{"line":9,"column":55},"end":{"line":9,"column":92}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":1,"9":0,"10":1},"f":{"0":6,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/login.routes.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/login.routes.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,sEAA8D;AAC9D,8CAAuC;AAEvC,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE7B,MAAM,eAAe,GAAG,IAAI,0BAAe,EAAE,CAAC;AAE9C,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACxF,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,cAAI,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAC7D,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEzC,kBAAe,WAAW,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\nimport LoginController from '../controllers/login.controller';\nimport auth from '../middlewares/auth';\n\nconst loginRouter = Router();\n\nconst loginController = new LoginController();\n\nloginRouter.post('/', (req: Request, res: Response) => loginController.login(req, res));\nloginRouter.get('/role', auth, (req: Request, res: Response) =>\n  loginController.getUserRole(req, res));\n\nexport default loginRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"da4c1dc4c25800509d52dcafb9a5760ec4c33e2e"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":41}},"3":{"start":{"line":9,"column":36},"end":{"line":9,"column":44}},"4":{"start":{"line":10,"column":33},"end":{"line":10,"column":79}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":45}},"6":{"start":{"line":14,"column":27},"end":{"line":14,"column":37}},"7":{"start":{"line":15,"column":33},"end":{"line":15,"column":84}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":45}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":62},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":26},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":32},"end":{"line":17,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":60}},"type":"default-arg","locations":[{"start":{"line":5,"column":31},"end":{"line":5,"column":60}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":6,"4":6,"5":6,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":6,"2":0},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts"],"names":[],"mappings":";;AACA,6DAAqD;AAErD,MAAqB,eAAe;IAClC,YAAoB,eAAe,IAAI,uBAAY,EAAE;QAAjC,iBAAY,GAAZ,YAAY,CAAqB;IAAG,CAAC;IAEzD,KAAK,CAAC,KAAK,CAAC,GAAY,EAAE,GAAa;QACrC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACxE,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAC3C,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC9B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QAC7E,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;CACF;AAdD,kCAcC","sourcesContent":["import { Request, Response } from 'express';\nimport LoginService from '../services/login.service';\n\nexport default class LoginController {\n  constructor(private loginService = new LoginService()) {}\n\n  async login(req: Request, res: Response): Promise<Response> {\n    const { email, password } = req.body;\n    const { status, data } = await this.loginService.login(email, password);\n    return res.status(status).json(data);\n  }\n\n  async getUserRole(req: Request, res: Response): Promise<Response> {\n    const { userId } = req.params;\n    const { status, data } = await this.loginService.getUserRole(Number(userId));\n    return res.status(status).json(data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7ff8d3907249f6864f6441bb5e5784f01de0ace6"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/login.service.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/login.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":50}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":19},"end":{"line":7,"column":50}},"6":{"start":{"line":8,"column":20},"end":{"line":8,"column":47}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"8":{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},"9":{"start":{"line":15,"column":12},"end":{"line":17,"column":14}},"10":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":67}},"12":{"start":{"line":22,"column":21},"end":{"line":22,"column":56}},"13":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":67}},"15":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":67}},"17":{"start":{"line":29,"column":20},"end":{"line":29,"column":53}},"18":{"start":{"line":30,"column":8},"end":{"line":30,"column":53}},"19":{"start":{"line":33,"column":21},"end":{"line":33,"column":54}},"20":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"21":{"start":{"line":35,"column":12},"end":{"line":35,"column":72}},"22":{"start":{"line":37,"column":25},"end":{"line":37,"column":29}},"23":{"start":{"line":38,"column":8},"end":{"line":38,"column":47}},"24":{"start":{"line":41,"column":0},"end":{"line":41,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":51},"end":{"line":12,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":33},"end":{"line":31,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":30},"end":{"line":39,"column":5}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":53}},"type":"binary-expr","locations":[{"start":{"line":6,"column":15},"end":{"line":6,"column":37}},{"start":{"line":6,"column":41},"end":{"line":6,"column":53}}],"line":6},"1":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":49}},"type":"default-arg","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":49}}],"line":10},"2":{"loc":{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":18,"column":9}},{"start":{"line":14,"column":8},"end":{"line":18,"column":9}}],"line":14},"3":{"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":31}},"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":18}},{"start":{"line":14,"column":22},"end":{"line":14,"column":31}}],"line":14},"4":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19},"5":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":58}},"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":35}},{"start":{"line":19,"column":39},"end":{"line":19,"column":58}}],"line":19},"6":{"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},{"start":{"line":23,"column":8},"end":{"line":25,"column":9}}],"line":23},"7":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26},"8":{"loc":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},{"start":{"line":34,"column":8},"end":{"line":36,"column":9}}],"line":34}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":6,"9":2,"10":4,"11":1,"12":3,"13":3,"14":1,"15":2,"16":2,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":1,"1":6,"2":0},"b":{"0":[1,1],"1":[1],"2":[2,4],"3":[6,5],"4":[1,3],"5":[4,4],"6":[1,2],"7":[2,0],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/login.service.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/login.service.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AACpC,mCAAmC;AACnC,mDAA4C;AAI5C,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,YAAY,CAAC;AACtD,MAAM,UAAU,GAAG,+BAA+B,CAAC;AACnD,MAAM,WAAW,GAAG,2BAA2B,CAAC;AAEhD,MAAqB,YAAY;IAC/B,YAAoB,QAAoB,IAAI,mBAAS,EAAE;QAAnC,UAAK,GAAL,KAAK,CAA8B;IAAG,CAAC;IAE3D,KAAK,CAAC,KAAK,CAAC,KAAa,EAAE,QAAgB;QACzC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;YACvB,OAAO;gBACL,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,2BAA2B,EAAE;aAAE,CAAC;SACjE;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAClD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,CAAC;SACxD;QACD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEjD,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,CAAC;SACxD;QAED,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE;YAChD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,CAAC;SACxD;QAED,MAAM,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;QAC9C,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAc;QAC9B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE,CAAC;SAC7D;QACD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QACtB,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC;IACzC,CAAC;CACF;AAjCD,+BAiCC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport * as bcrypt from 'bcryptjs';\nimport UserModel from '../models/user.mode';\nimport { IUserModel } from '../Interfaces/IUserModel';\nimport { ServiceResponse, loginResponse, roleResponse } from '../Interfaces/ServiceResponse';\n\nconst SECRET = process.env.JWT_SECRET || 'jwt_secret';\nconst validation = /^[\\w]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\nconst invalidEorP = 'Invalid email or password';\n\nexport default class LoginService {\n  constructor(private model: IUserModel = new UserModel()) {}\n\n  async login(email: string, password: string): Promise<ServiceResponse<loginResponse>> {\n    if (!email || !password) {\n      return {\n        status: 400, data: { message: 'All fields must be filled' } };\n    }\n    if (!validation.test(email) || password.length < 6) {\n      return { status: 401, data: { message: invalidEorP } };\n    }\n    const user = await this.model.findByEmail(email);\n\n    if (!user) {\n      return { status: 401, data: { message: invalidEorP } };\n    }\n\n    if (!bcrypt.compareSync(password, user.password)) {\n      return { status: 401, data: { message: invalidEorP } };\n    }\n\n    const tkn = jwt.sign({ id: user.id }, SECRET);\n    return { status: 200, data: { token: tkn } };\n  }\n\n  async getUserRole(userId: number): Promise<ServiceResponse<roleResponse>> {\n    const user = await this.model.findById(userId);\n    if (!user) {\n      return { status: 404, data: { message: 'User not found' } };\n    }\n    const { role } = user;\n    return { status: 200, data: { role } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b978529fe89f3fdbb68cb4dbefdf2761335ae2bc"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/user.mode.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/user.mode.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":77}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":50}},"3":{"start":{"line":9,"column":21},"end":{"line":9,"column":67}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":20}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":50}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":29},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":15,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":1,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/user.mode.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/user.mode.ts"],"names":[],"mappings":";;AAEA,8EAAuE;AAEvE,MAAqB,SAAS;IAA9B;QACU,UAAK,GAAG,4BAAkB,CAAC;IAWrC,CAAC;IATC,KAAK,CAAC,WAAW,CAAC,KAAa;QAC7B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAC5D,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC3C,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAZD,4BAYC","sourcesContent":["import IUser from '../Interfaces/IUser';\nimport { IUserModel } from '../Interfaces/IUserModel';\nimport UserModelSequelize from '../database/models/UserModelSequelize';\n\nexport default class UserModel implements IUserModel {\n  private model = UserModelSequelize;\n\n  async findByEmail(email: string): Promise<IUser | null> {\n    const user = await this.model.findOne({ where: { email } });\n    return user;\n  }\n\n  async findById(id: number): Promise<IUser | null> {\n    const user = await this.model.findByPk(id);\n    return user;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"96b63ae9fd555fd0710b0f1eb042acdb388cc4fc"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/auth.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/auth.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":53}},"3":{"start":{"line":5,"column":12},"end":{"line":5,"column":44}},"4":{"start":{"line":5,"column":24},"end":{"line":5,"column":44}},"5":{"start":{"line":6,"column":13},"end":{"line":22,"column":1}},"6":{"start":{"line":7,"column":19},"end":{"line":7,"column":46}},"7":{"start":{"line":8,"column":4},"end":{"line":9,"column":68}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":68}},"9":{"start":{"line":10,"column":18},"end":{"line":10,"column":29}},"10":{"start":{"line":11,"column":4},"end":{"line":21,"column":5}},"11":{"start":{"line":12,"column":24},"end":{"line":12,"column":49}},"12":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"13":{"start":{"line":14,"column":12},"end":{"line":14,"column":84}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":39}},"15":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":80}},"17":{"start":{"line":23,"column":0},"end":{"line":23,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":12},"end":{"line":5,"column":13}},"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":44}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":13},"end":{"line":6,"column":14}},"loc":{"start":{"line":6,"column":33},"end":{"line":22,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":53}},"type":"binary-expr","locations":[{"start":{"line":4,"column":15},"end":{"line":4,"column":37}},{"start":{"line":4,"column":41},"end":{"line":4,"column":53}}],"line":4},"1":{"loc":{"start":{"line":8,"column":4},"end":{"line":9,"column":68}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":9,"column":68}},{"start":{"line":8,"column":4},"end":{"line":9,"column":68}}],"line":8},"2":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"f":{"0":0,"1":0},"b":{"0":[1,1],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/auth.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/auth.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AAGpC,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,YAAY,CAAC;AAEtD,MAAM,GAAG,GAAG,CAAC,MAAc,EAAU,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAE7D,MAAM,IAAI,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC/D,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IAC3C,IAAI,CAAC,MAAM;QAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;IAEzE,MAAM,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;IAE1B,IAAI;QACF,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAC1C,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;SACzE;QACD,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC;QAC/B,IAAI,EAAE,CAAC;KACR;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;AACH,CAAC,CAAC;AAEF,kBAAe,IAAI,CAAC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport { Request, Response, NextFunction } from 'express';\n\nconst SECRET = process.env.JWT_SECRET || 'jwt_secret';\n\nconst tkn = (bearer: string): string => bearer.split(' ')[1];\n\nconst auth = (req: Request, res: Response, next: NextFunction) => {\n  const bearer = req.header('Authorization');\n  if (!bearer) return res.status(401).json({ message: 'Token not found' });\n\n  const token = tkn(bearer);\n\n  try {\n    const decoded = jwt.verify(token, SECRET);\n    if (typeof decoded === 'string') {\n      return res.status(401).json({ message: 'Token must be a valid token' });\n    }\n    req.params.userId = decoded.id;\n    next();\n  } catch (error) {\n    return res.status(401).json({ message: 'Token must be a valid token' });\n  }\n};\n\nexport default auth;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5faea9c1c9aa49f7a7512d532abb893d79b58fe9"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/match.route.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/match.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":69}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":27},"end":{"line":6,"column":69}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":56}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":0},"end":{"line":17,"column":3}},"8":{"start":{"line":10,"column":27},"end":{"line":10,"column":36}},"9":{"start":{"line":11,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":42}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":51}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":94}},"13":{"start":{"line":18,"column":58},"end":{"line":18,"column":92}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":90}},"15":{"start":{"line":19,"column":51},"end":{"line":19,"column":88}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":114}},"17":{"start":{"line":20,"column":75},"end":{"line":20,"column":112}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":30},"end":{"line":17,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":44},"end":{"line":18,"column":45}},"loc":{"start":{"line":18,"column":58},"end":{"line":18,"column":92}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":37},"end":{"line":19,"column":38}},"loc":{"start":{"line":19,"column":51},"end":{"line":19,"column":88}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":61},"end":{"line":20,"column":62}},"loc":{"start":{"line":20,"column":75},"end":{"line":20,"column":112}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":16,"column":5}},{"start":{"line":11,"column":4},"end":{"line":16,"column":5}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/match.route.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/match.route.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,sEAA8D;AAC9D,8CAAuC;AACvC,sEAA+D;AAE/D,MAAM,eAAe,GAAG,IAAI,0BAAe,EAAE,CAAC;AAE9C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;IAC9C,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;IACjC,IAAI,UAAU,KAAK,SAAS,EAAE;QAC5B,eAAe,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KACnC;SAAM;QACL,eAAe,CAAC,gBAAgB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;KAC5C;AACH,CAAC,CAAC,CAAC;AACH,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,cAAI,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAChE,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACtC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,cAAI,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACnG,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,cAAI,EAAE,0BAAgB,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CACvE,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEzC,kBAAe,MAAM,CAAC","sourcesContent":["import { Router, Request, Response } from 'express';\nimport MatchController from '../controllers/match.controller';\nimport auth from '../middlewares/auth';\nimport validateNewMatch from '../middlewares/validateNewMatch';\n\nconst matchController = new MatchController();\n\nconst router = Router();\n\nrouter.get('/', (req: Request, res: Response) => {\n  const { inProgress } = req.query;\n  if (inProgress === undefined) {\n    matchController.findAll(req, res);\n  } else {\n    matchController.filterByProgress(req, res);\n  }\n});\nrouter.patch('/:id/finish', auth, (req: Request, res: Response) =>\n  matchController.endMatch(req, res));\nrouter.patch('/:id', auth, (req: Request, res: Response) => matchController.updateMatch(req, res));\nrouter.post('/', auth, validateNewMatch, (req: Request, res: Response) =>\n  matchController.createMatch(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"adcc432d651fd626d82e543d8ba0e84c7b8dd7ba"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/match.controller.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/match.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":65}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"4":{"start":{"line":10,"column":25},"end":{"line":10,"column":58}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":56}},"6":{"start":{"line":14,"column":31},"end":{"line":14,"column":40}},"7":{"start":{"line":15,"column":25},"end":{"line":15,"column":88}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":56}},"9":{"start":{"line":19,"column":23},"end":{"line":19,"column":33}},"10":{"start":{"line":20,"column":25},"end":{"line":20,"column":69}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":56}},"12":{"start":{"line":24,"column":23},"end":{"line":24,"column":33}},"13":{"start":{"line":25,"column":26},"end":{"line":25,"column":72}},"14":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"15":{"start":{"line":27,"column":12},"end":{"line":27,"column":68}},"16":{"start":{"line":29,"column":49},"end":{"line":29,"column":57}},"17":{"start":{"line":30,"column":25},"end":{"line":30,"column":102}},"18":{"start":{"line":31,"column":8},"end":{"line":31,"column":56}},"19":{"start":{"line":34,"column":73},"end":{"line":34,"column":81}},"20":{"start":{"line":35,"column":25},"end":{"line":35,"column":146}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":56}},"22":{"start":{"line":39,"column":0},"end":{"line":39,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":62},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":37},"end":{"line":17,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":29},"end":{"line":22,"column":5}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":32},"end":{"line":32,"column":5}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":32},"end":{"line":37,"column":5}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":60}},"type":"default-arg","locations":[{"start":{"line":6,"column":31},"end":{"line":6,"column":60}}],"line":6},"1":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/match.controller.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/match.controller.ts"],"names":[],"mappings":";;AACA,6DAAqD;AACrD,kEAA2D;AAE3D,MAAqB,eAAe;IAClC,YAAoB,eAAe,IAAI,uBAAY,EAAE;QAAjC,iBAAY,GAAZ,YAAY,CAAqB;IAAG,CAAC;IAEzD,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa;QACvC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QACnD,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,GAAY,EAAE,GAAa;QAChD,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QACjC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,UAAU,KAAK,MAAM,CAAC,CAAC;QACjF,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,GAAY,EAAE,GAAa;QACxC,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAC3C,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,EAAE,KAAK,EAAE,GAAG,2BAAiB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,KAAK,EAAE;YACT,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;SACzD;QACD,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAClD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAClD,MAAM,CAAC,EAAE,CAAC,EACV,aAAa,EACb,aAAa,CACd,CAAC;QACF,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAC3C,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAC1E,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAClD,MAAM,CAAC,UAAU,CAAC,EAClB,MAAM,CAAC,UAAU,CAAC,EAClB,MAAM,CAAC,aAAa,CAAC,EACrB,MAAM,CAAC,aAAa,CAAC,CACtB,CAAC;QACF,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;CACF;AA7CD,kCA6CC","sourcesContent":["import { Request, Response } from 'express';\nimport MatchService from '../services/match.service';\nimport updateMatchSchema from '../utils/updateMatchSchema';\n\nexport default class MatchController {\n  constructor(private matchService = new MatchService()) {}\n\n  async findAll(req: Request, res: Response) {\n    const response = await this.matchService.findAll();\n    res.status(response.status).json(response.data);\n  }\n\n  async filterByProgress(req: Request, res: Response) {\n    const { inProgress } = req.query;\n    const response = await this.matchService.filterByProgress(inProgress === 'true');\n    res.status(response.status).json(response.data);\n  }\n\n  async endMatch(req: Request, res: Response) {\n    const { id } = req.params;\n    const response = await this.matchService.endMatch(Number(id));\n    res.status(response.status).json(response.data);\n  }\n\n  async updateMatch(req: Request, res: Response) {\n    const { id } = req.params;\n    const { error } = updateMatchSchema.validate(req.body);\n    if (error) {\n      return res.status(400).json({ message: error.message });\n    }\n    const { homeTeamGoals, awayTeamGoals } = req.body;\n    const response = await this.matchService.updateMatch(\n      Number(id),\n      homeTeamGoals,\n      awayTeamGoals,\n    );\n    res.status(response.status).json(response.data);\n  }\n\n  async createMatch(req: Request, res: Response) {\n    const { homeTeamId, awayTeamId, homeTeamGoals, awayTeamGoals } = req.body;\n    const response = await this.matchService.createMatch(\n      Number(homeTeamId),\n      Number(awayTeamId),\n      Number(homeTeamGoals),\n      Number(awayTeamGoals),\n    );\n    res.status(response.status).json(response.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"80f5cf16aedcfc7af1007180b1fc90e254ea15b7"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/match.service.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/match.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":77}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":54}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":10,"column":24},"end":{"line":10,"column":55}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":46}},"6":{"start":{"line":14,"column":24},"end":{"line":14,"column":55}},"7":{"start":{"line":15,"column":34},"end":{"line":15,"column":92}},"8":{"start":{"line":15,"column":60},"end":{"line":15,"column":91}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":56}},"10":{"start":{"line":19,"column":22},"end":{"line":19,"column":56}},"11":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"12":{"start":{"line":21,"column":12},"end":{"line":21,"column":73}},"13":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":79}},"15":{"start":{"line":26,"column":8},"end":{"line":26,"column":62}},"16":{"start":{"line":29,"column":22},"end":{"line":29,"column":89}},"17":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"18":{"start":{"line":31,"column":12},"end":{"line":31,"column":73}},"19":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"20":{"start":{"line":34,"column":12},"end":{"line":34,"column":80}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":61}},"22":{"start":{"line":39,"column":22},"end":{"line":39,"column":66}},"23":{"start":{"line":40,"column":25},"end":{"line":40,"column":69}},"24":{"start":{"line":40,"column":46},"end":{"line":40,"column":68}},"25":{"start":{"line":41,"column":25},"end":{"line":41,"column":69}},"26":{"start":{"line":41,"column":46},"end":{"line":41,"column":68}},"27":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":88}},"29":{"start":{"line":45,"column":22},"end":{"line":45,"column":109}},"30":{"start":{"line":46,"column":8},"end":{"line":46,"column":44}},"31":{"start":{"line":49,"column":0},"end":{"line":49,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":58},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":20},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":39},"end":{"line":17,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":49},"end":{"line":15,"column":50}},"loc":{"start":{"line":15,"column":60},"end":{"line":15,"column":91}},"line":15},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":23},"end":{"line":27,"column":5}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":56},"end":{"line":37,"column":5}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":76},"end":{"line":47,"column":5}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":36},"end":{"line":40,"column":37}},"loc":{"start":{"line":40,"column":46},"end":{"line":40,"column":68}},"line":40},"8":{"name":"(anonymous_8)","decl":{"start":{"line":41,"column":36},"end":{"line":41,"column":37}},"loc":{"start":{"line":41,"column":46},"end":{"line":41,"column":68}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":56}},"type":"default-arg","locations":[{"start":{"line":6,"column":29},"end":{"line":6,"column":56}}],"line":6},"1":{"loc":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},{"start":{"line":20,"column":8},"end":{"line":22,"column":9}}],"line":20},"2":{"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},{"start":{"line":23,"column":8},"end":{"line":25,"column":9}}],"line":23},"3":{"loc":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},{"start":{"line":30,"column":8},"end":{"line":32,"column":9}}],"line":30},"4":{"loc":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},{"start":{"line":33,"column":8},"end":{"line":35,"column":9}}],"line":33},"5":{"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},{"start":{"line":42,"column":8},"end":{"line":44,"column":9}}],"line":42},"6":{"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":34}},"type":"binary-expr","locations":[{"start":{"line":42,"column":12},"end":{"line":42,"column":21}},{"start":{"line":42,"column":25},"end":{"line":42,"column":34}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/match.service.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/match.service.ts"],"names":[],"mappings":"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","sourcesContent":["import TeamModelSequelize from '../database/models/TeamModelSequelize';\nimport MatchModel from '../models/match.model';\nimport IMatches from '../Interfaces/IMatches';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\n\nexport default class MatchService {\n  constructor(private matchModel: MatchModel = new MatchModel()) {}\n\n  async findAll(): Promise<ServiceResponse<IMatches[]>> {\n    const matches = await this.matchModel.findAll();\n    return { status: 200, data: matches };\n  }\n\n  async filterByProgress(inProgress: boolean): Promise<ServiceResponse<IMatches[]>> {\n    const matches = await this.matchModel.findAll();\n    const matchesInProgress = matches.filter((match) => match.inProgress === inProgress);\n    return { status: 200, data: matchesInProgress };\n  }\n\n  async endMatch(id: number): Promise<ServiceResponse<IMatches | { message: string }>> {\n    const match = await this.matchModel.endMatch(id);\n\n    if (match === 'not found') {\n      return { status: 404, data: { message: 'Match not found' } };\n    }\n\n    if (match === 'match has already ended') {\n      return { status: 400, data: { message: 'Math already finished' } };\n    }\n\n    return { status: 200, data: { message: 'Finished' } };\n  }\n\n  async updateMatch(id: number, homeTeamGoals: number, awayTeamGoals: number):\n  Promise<ServiceResponse<IMatches | { message: string }>> {\n    const match = await this.matchModel.updateMatch(id, homeTeamGoals, awayTeamGoals);\n\n    if (match === 'not found') {\n      return { status: 404, data: { message: 'Match not found' } };\n    }\n\n    if (match === 'finished') {\n      return { status: 400, data: { message: 'Match already finished' } };\n    }\n\n    return { status: 200, data: { message: 'Updated' } };\n  }\n\n  async createMatch(\n    homeTeamId: number,\n    awayTeamId: number,\n    homeTeamGoals: number,\n    awayTeamGoals: number,\n  ): Promise<ServiceResponse<IMatches>> {\n    const teams = await TeamModelSequelize.findAll();\n    const homeTeam = teams.find((team) => team.id === homeTeamId);\n    const awayTeam = teams.find((team) => team.id === awayTeamId);\n\n    if (!homeTeam || !awayTeam) {\n      return { status: 404, data: { message: 'There is no team with such id!' } };\n    }\n\n    const match = await this.matchModel.createMatch(\n      homeTeamId,\n      awayTeamId,\n      homeTeamGoals,\n      awayTeamGoals,\n    );\n\n    return { status: 201, data: match };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c0ffd4c2701bcb01bd5254c217767911bc1e9bcd"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/match.model.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/match.model.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":30},"end":{"line":3,"column":79}},"2":{"start":{"line":4,"column":29},"end":{"line":4,"column":77}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":51}},"4":{"start":{"line":10,"column":22},"end":{"line":10,"column":66}},"5":{"start":{"line":11,"column":21},"end":{"line":11,"column":47}},"6":{"start":{"line":12,"column":24},"end":{"line":28,"column":10}},"7":{"start":{"line":14,"column":12},"end":{"line":27,"column":15}},"8":{"start":{"line":22,"column":57},"end":{"line":22,"column":85}},"9":{"start":{"line":25,"column":57},"end":{"line":25,"column":85}},"10":{"start":{"line":29,"column":8},"end":{"line":29,"column":23}},"11":{"start":{"line":32,"column":22},"end":{"line":32,"column":51}},"12":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"13":{"start":{"line":34,"column":12},"end":{"line":34,"column":31}},"14":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"15":{"start":{"line":37,"column":12},"end":{"line":37,"column":45}},"16":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"17":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"18":{"start":{"line":43,"column":22},"end":{"line":43,"column":51}},"19":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"20":{"start":{"line":45,"column":12},"end":{"line":45,"column":31}},"21":{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},"22":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":44}},"24":{"start":{"line":51,"column":8},"end":{"line":51,"column":44}},"25":{"start":{"line":52,"column":8},"end":{"line":52,"column":27}},"26":{"start":{"line":55,"column":22},"end":{"line":61,"column":10}},"27":{"start":{"line":62,"column":8},"end":{"line":62,"column":21}},"28":{"start":{"line":65,"column":0},"end":{"line":65,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":20},"end":{"line":30,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":33},"end":{"line":12,"column":34}},"loc":{"start":{"line":12,"column":44},"end":{"line":28,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":47},"end":{"line":22,"column":48}},"loc":{"start":{"line":22,"column":57},"end":{"line":22,"column":85}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":47},"end":{"line":25,"column":48}},"loc":{"start":{"line":25,"column":57},"end":{"line":25,"column":85}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":23},"end":{"line":41,"column":5}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":56},"end":{"line":53,"column":5}},"line":42},"7":{"name":"(anonymous_7)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":76},"end":{"line":63,"column":5}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":136}},"type":"cond-expr","locations":[{"start":{"line":22,"column":116},"end":{"line":22,"column":122}},{"start":{"line":22,"column":125},"end":{"line":22,"column":136}}],"line":22},"1":{"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":113}},"type":"binary-expr","locations":[{"start":{"line":22,"column":30},"end":{"line":22,"column":96}},{"start":{"line":22,"column":100},"end":{"line":22,"column":113}}],"line":22},"2":{"loc":{"start":{"line":25,"column":30},"end":{"line":25,"column":136}},"type":"cond-expr","locations":[{"start":{"line":25,"column":116},"end":{"line":25,"column":122}},{"start":{"line":25,"column":125},"end":{"line":25,"column":136}}],"line":25},"3":{"loc":{"start":{"line":25,"column":30},"end":{"line":25,"column":113}},"type":"binary-expr","locations":[{"start":{"line":25,"column":30},"end":{"line":25,"column":96}},{"start":{"line":25,"column":100},"end":{"line":25,"column":113}}],"line":25},"4":{"loc":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},{"start":{"line":33,"column":8},"end":{"line":35,"column":9}}],"line":33},"5":{"loc":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},{"start":{"line":36,"column":8},"end":{"line":38,"column":9}}],"line":36},"6":{"loc":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},{"start":{"line":44,"column":8},"end":{"line":46,"column":9}}],"line":44},"7":{"loc":{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},{"start":{"line":47,"column":8},"end":{"line":49,"column":9}}],"line":47}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2,"6":2,"7":98,"8":824,"9":834,"10":2,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1},"f":{"0":2,"1":2,"2":98,"3":824,"4":834,"5":0,"6":0,"7":0},"b":{"0":[0,98],"1":[98,98],"2":[0,98],"3":[98,98],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/match.model.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/match.model.ts"],"names":[],"mappings":";;AAGA,gFAAyE;AACzE,8EAAuE;AAEvE,MAAqB,UAAU;IAA/B;QACU,UAAK,GAAG,6BAAmB,CAAC;IA+DtC,CAAC;IA9DC,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,4BAAkB,CAAC,OAAO,EAAE,CAAC;QACjD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QAExC,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;;YAAC,OAAA,CAAC;gBACnC,EAAE,EAAE,KAAK,CAAC,EAAE;gBACZ,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,QAAQ,EAAE;oBACR,QAAQ,EAAE,MAAA,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,KAAK,CAAC,UAAU,CAAC,0CAAE,QAAQ;iBACvE;gBACD,QAAQ,EAAE;oBACR,QAAQ,EAAE,MAAA,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,KAAK,CAAC,UAAU,CAAC,0CAAE,QAAQ;iBACvE;aACF,CAAC,CAAA;SAAA,CAAC,CAAC;QACJ,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,WAAW,CAAC;SACpB;QACD,IAAI,KAAK,CAAC,UAAU,KAAK,KAAK,EAAE;YAC9B,OAAO,yBAAyB,CAAC;SAClC;QACD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,aAAqB,EAAE,aAAqB;QAExE,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,WAAW,CAAC;SACpB;QACD,IAAI,KAAK,CAAC,UAAU,KAAK,KAAK,EAAE;YAC9B,OAAO,UAAU,CAAC;SACnB;QACD,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,WAAW,CACf,UAAkB,EAClB,UAAkB,EAClB,aAAqB,EACrB,aAAqB;QAErB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YACpC,UAAU;YACV,UAAU;YACV,aAAa;YACb,aAAa;YACb,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAhED,6BAgEC","sourcesContent":["import IMatches from '../Interfaces/IMatches';\nimport IMatchModel from '../Interfaces/IMatchModel';\nimport IMatchesTeams from '../Interfaces/IMatchesTeams';\nimport MatchModelSequelize from '../database/models/MatchModelSequelize';\nimport TeamModelSequelize from '../database/models/TeamModelSequelize';\n\nexport default class MatchModel implements IMatchModel {\n  private model = MatchModelSequelize;\n  async findAll(): Promise<IMatchesTeams[]> {\n    const teams = await TeamModelSequelize.findAll();\n    const data = await this.model.findAll();\n\n    const matches = data.map((match) => ({\n      id: match.id,\n      homeTeamId: match.homeTeamId,\n      homeTeamGoals: match.homeTeamGoals,\n      awayTeamId: match.awayTeamId,\n      awayTeamGoals: match.awayTeamGoals,\n      inProgress: match.inProgress,\n      homeTeam: {\n        teamName: teams.find((team) => team.id === match.homeTeamId)?.teamName,\n      },\n      awayTeam: {\n        teamName: teams.find((team) => team.id === match.awayTeamId)?.teamName,\n      },\n    }));\n    return matches;\n  }\n\n  async endMatch(id: number): Promise<void | string> {\n    const match = await this.model.findByPk(id);\n    if (!match) {\n      return 'not found';\n    }\n    if (match.inProgress === false) {\n      return 'match has already ended';\n    }\n    match.inProgress = false;\n    await match.save();\n  }\n\n  async updateMatch(id: number, homeTeamGoals: number, awayTeamGoals: number):\n  Promise<void | string> {\n    const match = await this.model.findByPk(id);\n    if (!match) {\n      return 'not found';\n    }\n    if (match.inProgress === false) {\n      return 'finished';\n    }\n    match.homeTeamGoals = homeTeamGoals;\n    match.awayTeamGoals = awayTeamGoals;\n    await match.save();\n  }\n\n  async createMatch(\n    homeTeamId: number,\n    awayTeamId: number,\n    homeTeamGoals: number,\n    awayTeamGoals: number,\n  ): Promise<IMatches> {\n    const match = await this.model.create({\n      homeTeamId,\n      awayTeamId,\n      homeTeamGoals,\n      awayTeamGoals,\n      inProgress: true,\n    });\n    return match;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9e9227bf60dcdb3a473b1412cf9e8efbd00c651f"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/updateMatchSchema.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/updateMatchSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":26},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/updateMatchSchema.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/updateMatchSchema.ts"],"names":[],"mappings":";;AAAA,2BAA2B;AAE3B,MAAM,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC;IACnC,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,KAAK,CAAC,eAAe,CAAC;IACzB,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,KAAK,CAAC,eAAe,CAAC;CAC1B,CAAC,CAAC,QAAQ,CAAC;IACV,iBAAiB,EAAE,4BAA4B;IAC/C,gBAAgB,EAAE,mCAAmC;IACrD,YAAY,EAAE,yCAAyC;CACxD,CAAC,CAAC;AAEH,kBAAe,iBAAiB,CAAC","sourcesContent":["import * as Joi from 'joi';\n\nconst updateMatchSchema = Joi.object({\n  homeTeamGoals: Joi.number().integer().min(0).required()\n    .label('homeTeamGoals'),\n  awayTeamGoals: Joi.number().integer().min(0).required()\n    .label('awayTeamGoals'),\n}).messages({\n  'number.required': 'The {{#label}} is required',\n  'number.integer': 'The {{#label}} should be a number',\n  'number.min': 'The {{#label}} cannot be less than zero',\n});\n\nexport default updateMatchSchema;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"39c793bc7467919eea23427efbb2524042eb93d3"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/validateNewMatch.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/validateNewMatch.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":25},"end":{"line":19,"column":1}},"3":{"start":{"line":5,"column":69},"end":{"line":5,"column":77}},"4":{"start":{"line":6,"column":22},"end":{"line":11,"column":6}},"5":{"start":{"line":12,"column":4},"end":{"line":13,"column":64}},"6":{"start":{"line":13,"column":8},"end":{"line":13,"column":64}},"7":{"start":{"line":14,"column":4},"end":{"line":17,"column":5}},"8":{"start":{"line":15,"column":8},"end":{"line":16,"column":92}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":11}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":25},"end":{"line":4,"column":26}},"loc":{"start":{"line":4,"column":45},"end":{"line":19,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":4},"end":{"line":13,"column":64}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":13,"column":64}},{"start":{"line":12,"column":4},"end":{"line":13,"column":64}}],"line":12},"1":{"loc":{"start":{"line":14,"column":4},"end":{"line":17,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":17,"column":5}},{"start":{"line":14,"column":4},"end":{"line":17,"column":5}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/validateNewMatch.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/middlewares/validateNewMatch.ts"],"names":[],"mappings":";;AACA,wDAAsD;AAEtD,MAAM,gBAAgB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC3E,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAC1E,MAAM,EAAE,KAAK,EAAE,GAAG,sBAAiB,CAAC,QAAQ,CAAC;QAC3C,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC;QAC9B,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC;QAC9B,aAAa,EAAE,MAAM,CAAC,aAAa,CAAC;QACpC,aAAa,EAAE,MAAM,CAAC,aAAa,CAAC;KACrC,CAAC,CAAC;IAEH,IAAI,KAAK;QAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAEnE,IAAI,GAAG,CAAC,IAAI,CAAC,UAAU,KAAK,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE;QAC/C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;aACnB,IAAI,CAAC,EAAE,OAAO,EAAE,2DAA2D,EAAE,CAAC,CAAC;KACnF;IAED,IAAI,EAAE,CAAC;AACT,CAAC,CAAC;AAEF,kBAAe,gBAAgB,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport createMatchSchema from '../utils/matchSechema';\n\nconst validateNewMatch = (req: Request, res: Response, next: NextFunction) => {\n  const { homeTeamId, awayTeamId, homeTeamGoals, awayTeamGoals } = req.body;\n  const { error } = createMatchSchema.validate({\n    homeTeamId: Number(homeTeamId),\n    awayTeamId: Number(awayTeamId),\n    homeTeamGoals: Number(homeTeamGoals),\n    awayTeamGoals: Number(awayTeamGoals),\n  });\n\n  if (error) return res.status(400).json({ message: error.message });\n\n  if (req.body.homeTeamId === req.body.awayTeamId) {\n    return res.status(422)\n      .json({ message: 'It is not possible to create a match with two equal teams' });\n  }\n\n  next();\n};\n\nexport default validateNewMatch;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"da8ca6691901ae4f32c9fce30539eb838e1c3f3e"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/matchSechema.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/matchSechema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":26},"end":{"line":17,"column":2}},"3":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/matchSechema.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/utils/matchSechema.ts"],"names":[],"mappings":";;AAAA,2BAA2B;AAE3B,MAAM,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC;IACnC,UAAU,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;SAC1C,KAAK,CAAC,YAAY,CAAC;IACtB,UAAU,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;SAC1C,KAAK,CAAC,YAAY,CAAC;IACtB,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,KAAK,CAAC,eAAe,CAAC;IACzB,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,KAAK,CAAC,eAAe,CAAC;CAC1B,CAAC,CAAC,QAAQ,CAAC;IACV,iBAAiB,EAAE,kCAAkC;IACrD,gBAAgB,EAAE,iCAAiC;IACnD,YAAY,EAAE,yCAAyC;CACxD,CAAC,CAAC;AAEH,kBAAe,iBAAiB,CAAC","sourcesContent":["import * as Joi from 'joi';\n\nconst createMatchSchema = Joi.object({\n  homeTeamId: Joi.number().integer().required()\n    .label('homeTeamId'),\n  awayTeamId: Joi.number().integer().required()\n    .label('awayTeamId'),\n  homeTeamGoals: Joi.number().integer().min(0).required()\n    .label('homeTeamGoals'),\n  awayTeamGoals: Joi.number().integer().min(0).required()\n    .label('awayTeamGoals'),\n}).messages({\n  'number.required': 'The {{#label}} is required!!!!!!',\n  'number.integer': 'The {{#label}} must be a number',\n  'number.min': 'The {{#label}} cannot be less than zero',\n});\n\nexport default createMatchSchema;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d78c79ef2d730c75aa804995b6bbaa14d803598f"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/leaderboard.route.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/leaderboard.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":33},"end":{"line":4,"column":81}},"3":{"start":{"line":5,"column":30},"end":{"line":5,"column":68}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":38}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":78}},"6":{"start":{"line":7,"column":30},"end":{"line":7,"column":76}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":83}},"8":{"start":{"line":8,"column":34},"end":{"line":8,"column":81}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":83}},"10":{"start":{"line":9,"column":34},"end":{"line":9,"column":81}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":16},"end":{"line":7,"column":17}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":76}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":20},"end":{"line":8,"column":21}},"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":81}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":20},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":34},"end":{"line":9,"column":81}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":0,"11":1},"f":{"0":1,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/leaderboard.route.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/routes/leaderboard.route.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,kFAA0E;AAE1E,MAAM,qBAAqB,GAAG,IAAI,gCAAqB,EAAE,CAAC;AAE1D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,qBAAqB,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEjG,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAClD,qBAAqB,CAAC,eAAe,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEnD,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAClD,qBAAqB,CAAC,eAAe,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEnD,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Router, Response } from 'express';\nimport LeaderBoardController from '../controllers/leaderboard.controller';\n\nconst leaderBoardController = new LeaderBoardController();\n\nconst router = Router();\n\nrouter.get('/', (req: Request, res: Response) => leaderBoardController.leaderBoardAll(req, res));\n\nrouter.get('/home', (req: Request, res: Response) =>\n  leaderBoardController.leaderBoardHome(req, res));\n\nrouter.get('/away', (req: Request, res: Response) =>\n  leaderBoardController.leaderBoardAway(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bd6b6b61436d509f370ecde0d7e44c16e6dfe000"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/leaderboard.controller.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/leaderboard.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":30},"end":{"line":3,"column":72}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":53}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":61}},"4":{"start":{"line":10,"column":25},"end":{"line":10,"column":71}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":63}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":62}},"7":{"start":{"line":15,"column":25},"end":{"line":15,"column":77}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":63}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":62}},"10":{"start":{"line":20,"column":25},"end":{"line":20,"column":78}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":63}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":74},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":36},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":37},"end":{"line":17,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":37},"end":{"line":22,"column":5}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":72}},"type":"default-arg","locations":[{"start":{"line":5,"column":37},"end":{"line":5,"column":72}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":1,"1":1,"2":0,"3":0},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/leaderboard.controller.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/controllers/leaderboard.controller.ts"],"names":[],"mappings":";;AACA,yEAAiE;AAEjE,MAAqB,qBAAqB;IACxC,YACU,qBAAqB,IAAI,6BAAkB,EAAE;QAA7C,uBAAkB,GAAlB,kBAAkB,CAA2B;IACnD,CAAC;IAEE,KAAK,CAAC,cAAc,CAAC,IAAa,EAAE,GAAa;QACtD,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QACrD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;QAChE,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,IAAa,EAAE,GAAa;QACvD,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;QACtD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACtE,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;IAEM,KAAK,CAAC,eAAe,CAAC,IAAa,EAAE,GAAa;QACvD,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;QACtD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACvE,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACzD,CAAC;CACF;AAtBD,wCAsBC","sourcesContent":["import { Request, Response } from 'express';\nimport LeaderBoardService from '../services/leaderboard.service';\n\nexport default class LeaderBoardController {\n  constructor(\n    private leaderBoardService = new LeaderBoardService(),\n  ) { }\n\n  public async leaderBoardAll(_req: Request, res: Response) {\n    console.log('LeaderBoardController: leaderBoardAll');\n    const response = await this.leaderBoardService.leaderBoardAll();\n    return res.status(response.status).json(response.data);\n  }\n\n  public async leaderBoardHome(_req: Request, res: Response) {\n    console.log('LeaderBoardController: leaderBoardHome');\n    const response = await this.leaderBoardService.leaderBoardsHome(true);\n    return res.status(response.status).json(response.data);\n  }\n\n  public async leaderBoardAway(_req: Request, res: Response) {\n    console.log('LeaderBoardController: leaderBoardAway');\n    const response = await this.leaderBoardService.leaderBoardsHome(false);\n    return res.status(response.status).json(response.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a0e8868ad32b6da575376930298a6c757d03606c"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":66}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":49}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":88}},"4":{"start":{"line":10,"column":29},"end":{"line":10,"column":79}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":51}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":58}},"7":{"start":{"line":15,"column":33},"end":{"line":15,"column":77}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":55}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":70},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":33},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":27},"end":{"line":17,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":68}},"type":"default-arg","locations":[{"start":{"line":5,"column":35},"end":{"line":5,"column":68}}],"line":5},"1":{"loc":{"start":{"line":9,"column":61},"end":{"line":9,"column":83}},"type":"cond-expr","locations":[{"start":{"line":9,"column":68},"end":{"line":9,"column":74}},{"start":{"line":9,"column":77},"end":{"line":9,"column":83}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":0,"9":1},"f":{"0":1,"1":0,"2":1},"b":{"0":[1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts"],"names":[],"mappings":";;AAEA,mEAA2D;AAE3D,MAAqB,kBAAkB;IACrC,YACU,mBAAqC,IAAI,2BAAgB,EAAE;QAA3D,qBAAgB,GAAhB,gBAAgB,CAA2C;IACjE,CAAC;IAEE,KAAK,CAAC,gBAAgB,CAAC,IAAa;QACzC,OAAO,CAAC,GAAG,CAAC,yCAAyC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAChF,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACxE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;IAC7C,CAAC;IAEM,KAAK,CAAC,cAAc;QACzB,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAClD,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC;QACtE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;IACjD,CAAC;CACF;AAhBD,qCAgBC","sourcesContent":["import ILeaderBoard from '../Interfaces/ILeaderboard';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport LeaderBoardModel from '../models/leaderboard.model';\n\nexport default class LeaderBoardService {\n  constructor(\n    private leaderBoardModel: LeaderBoardModel = new LeaderBoardModel(),\n  ) { }\n\n  public async leaderBoardsHome(home: boolean): Promise<ServiceResponse<ILeaderBoard[]>> {\n    console.log(`LeaderBoardService: leaderBoardsHome (${home ? 'home' : 'away'})`);\n    const leaderBoards = await this.leaderBoardModel.leaderBoardsHome(home);\n    return { status: 200, data: leaderBoards };\n  }\n\n  public async leaderBoardAll(): Promise<ServiceResponse<ILeaderBoard[]>> {\n    console.log('LeaderBoardService: leaderBoardAll');\n    const homeAndAwayTeams = await this.leaderBoardModel.leaderBoardAll();\n    return { status: 200, data: homeAndAwayTeams };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ab160e67ccddaa616db8ba900efafaf959d3987a"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/leaderboard.model.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/leaderboard.model.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":26},"end":{"line":5,"column":54}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":51}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":48}},"6":{"start":{"line":12,"column":8},"end":{"line":23,"column":10}},"7":{"start":{"line":26,"column":8},"end":{"line":29,"column":10}},"8":{"start":{"line":32,"column":28},"end":{"line":32,"column":76}},"9":{"start":{"line":33,"column":27},"end":{"line":33,"column":73}},"10":{"start":{"line":34,"column":33},"end":{"line":44,"column":9}},"11":{"start":{"line":45,"column":8},"end":{"line":45,"column":32}},"12":{"start":{"line":48,"column":22},"end":{"line":48,"column":48}},"13":{"start":{"line":49,"column":24},"end":{"line":49,"column":52}},"14":{"start":{"line":50,"column":8},"end":{"line":57,"column":55}},"15":{"start":{"line":51,"column":36},"end":{"line":54,"column":46}},"16":{"start":{"line":52,"column":35},"end":{"line":54,"column":45}},"17":{"start":{"line":55,"column":33},"end":{"line":55,"column":79}},"18":{"start":{"line":56,"column":12},"end":{"line":56,"column":73}},"19":{"start":{"line":60,"column":22},"end":{"line":60,"column":48}},"20":{"start":{"line":61,"column":24},"end":{"line":61,"column":52}},"21":{"start":{"line":62,"column":8},"end":{"line":74,"column":55}},"22":{"start":{"line":63,"column":32},"end":{"line":64,"column":37}},"23":{"start":{"line":63,"column":58},"end":{"line":64,"column":36}},"24":{"start":{"line":65,"column":32},"end":{"line":66,"column":37}},"25":{"start":{"line":65,"column":58},"end":{"line":66,"column":36}},"26":{"start":{"line":67,"column":25},"end":{"line":67,"column":67}},"27":{"start":{"line":68,"column":25},"end":{"line":68,"column":67}},"28":{"start":{"line":69,"column":37},"end":{"line":69,"column":88}},"29":{"start":{"line":70,"column":12},"end":{"line":73,"column":14}},"30":{"start":{"line":77,"column":0},"end":{"line":77,"column":35}},"31":{"start":{"line":78,"column":0},"end":{"line":81,"column":35}},"32":{"start":{"line":78,"column":50},"end":{"line":81,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":57},"end":{"line":24,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":52},"end":{"line":30,"column":5}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":46},"end":{"line":46,"column":5}},"line":31},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":33},"end":{"line":58,"column":5}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":50,"column":25},"end":{"line":50,"column":26}},"loc":{"start":{"line":50,"column":35},"end":{"line":57,"column":9}},"line":50},"6":{"name":"(anonymous_6)","decl":{"start":{"line":52,"column":24},"end":{"line":52,"column":25}},"loc":{"start":{"line":52,"column":35},"end":{"line":54,"column":45}},"line":52},"7":{"name":"(anonymous_7)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":27},"end":{"line":75,"column":5}},"line":59},"8":{"name":"(anonymous_8)","decl":{"start":{"line":62,"column":25},"end":{"line":62,"column":26}},"loc":{"start":{"line":62,"column":35},"end":{"line":74,"column":9}},"line":62},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":47},"end":{"line":63,"column":48}},"loc":{"start":{"line":63,"column":58},"end":{"line":64,"column":36}},"line":63},"10":{"name":"(anonymous_10)","decl":{"start":{"line":65,"column":47},"end":{"line":65,"column":48}},"loc":{"start":{"line":65,"column":58},"end":{"line":66,"column":36}},"line":65},"11":{"name":"(anonymous_11)","decl":{"start":{"line":78,"column":40},"end":{"line":78,"column":41}},"loc":{"start":{"line":78,"column":50},"end":{"line":81,"column":34}},"line":78}},"branchMap":{"0":{"loc":{"start":{"line":52,"column":35},"end":{"line":54,"column":45}},"type":"binary-expr","locations":[{"start":{"line":52,"column":36},"end":{"line":53,"column":77}},{"start":{"line":54,"column":19},"end":{"line":54,"column":45}}],"line":52},"1":{"loc":{"start":{"line":52,"column":36},"end":{"line":53,"column":77}},"type":"cond-expr","locations":[{"start":{"line":53,"column":18},"end":{"line":53,"column":46}},{"start":{"line":53,"column":49},"end":{"line":53,"column":77}}],"line":52},"2":{"loc":{"start":{"line":63,"column":58},"end":{"line":64,"column":36}},"type":"binary-expr","locations":[{"start":{"line":63,"column":58},"end":{"line":63,"column":86}},{"start":{"line":64,"column":19},"end":{"line":64,"column":36}}],"line":63},"3":{"loc":{"start":{"line":65,"column":58},"end":{"line":66,"column":36}},"type":"binary-expr","locations":[{"start":{"line":65,"column":58},"end":{"line":65,"column":86}},{"start":{"line":66,"column":19},"end":{"line":66,"column":36}}],"line":65},"4":{"loc":{"start":{"line":78,"column":50},"end":{"line":81,"column":34}},"type":"binary-expr","locations":[{"start":{"line":78,"column":50},"end":{"line":78,"column":79}},{"start":{"line":79,"column":7},"end":{"line":79,"column":42}},{"start":{"line":80,"column":7},"end":{"line":80,"column":38}},{"start":{"line":81,"column":7},"end":{"line":81,"column":34}}],"line":78}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":1,"32":0},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/leaderboard.model.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/leaderboard.model.ts"],"names":[],"mappings":"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","sourcesContent":["import ILeaderBoard from '../Interfaces/ILeaderboard';\nimport ITeam from '../Interfaces/teams/ITeam';\nimport MatchesModel from './match.model';\nimport TeamsModel from './team.model';\nimport TeamPerformance from './teamPerformance';\n\nexport default class LeaderBoardModel {\n  private matches = new MatchesModel();\n  private teams = new TeamsModel();\n\n  private static sortLeaderboardTeams = (a: ILeaderBoard, b: ILeaderBoard) =>\n    b.totalPoints - a.totalPoints\n      || b.totalVictories - a.totalVictories\n      || b.goalsBalance - a.goalsBalance\n      || b.goalsFavor - a.goalsFavor;\n\n  private static createTeamPerformance(\n    teamPerformances: TeamPerformance,\n    home: boolean,\n  ): ILeaderBoard {\n    return {\n      totalPoints: teamPerformances.totalPoints(home),\n      totalGames: teamPerformances.totalGames(home)\n      + teamPerformances.totalDraws() + teamPerformances.totalLosses(home),\n      totalVictories: teamPerformances.totalVictories(home),\n      totalDraws: teamPerformances.totalDraws(),\n      totalLosses: teamPerformances.totalLosses(home),\n      goalsFavor: teamPerformances.goalsFavor(home),\n      goalsOwn: teamPerformances.goalsOwn(home),\n      goalsBalance: teamPerformances.goalsBalance(home),\n      efficiency: teamPerformances.efficiency(home),\n    };\n  }\n\n  private static createTeam(\n    team: ITeam,\n    teamPerformances: TeamPerformance,\n    home: boolean,\n  ): ILeaderBoard {\n    return {\n      name: team.teamName,\n      ...LeaderBoardModel.createTeamPerformance(teamPerformances, home),\n    };\n  }\n\n  private static createTeamsHomeAndAway(\n    home: TeamPerformance,\n    away: TeamPerformance,\n  ): ILeaderBoard {\n    const totalPoints = home.totalPoints(true) + away.totalPoints(false);\n    const totalGames = home.totalGames(true) + away.totalGames(false);\n\n    const totalPerformance = {\n      totalPoints,\n      totalGames,\n      totalVictories: home.totalVictories(true) + away.totalVictories(false),\n      totalDraws: home.totalDraws() + away.totalDraws(),\n      totalLosses: home.totalLosses(true) + away.totalLosses(false),\n      goalsFavor: home.goalsFavor(true) + away.goalsFavor(false),\n      goalsOwn: home.goalsOwn(true) + away.goalsOwn(false),\n      goalsBalance: home.goalsBalance(true) + away.goalsBalance(false),\n      efficiency: parseFloat(((totalPoints / (totalGames * 3)) * 100).toFixed(2)),\n    };\n\n    return totalPerformance;\n  }\n\n  async leaderBoardsHome(home: boolean): Promise<ILeaderBoard[]> {\n    const teams = await this.teams.findAll();\n    const matches = await this.matches.findAll();\n    return teams.map((team) => {\n      const finishedMatches = matches\n        .filter((match) => (home\n          ? match.homeTeamId === team.id : match.awayTeamId === team.id)\n          && match.inProgress === false);\n      const performances = new TeamPerformance(finishedMatches);\n      return LeaderBoardModel.createTeam(team, performances, home);\n    }).sort(LeaderBoardModel.sortLeaderboardTeams);\n  }\n\n  async leaderBoardAll(): Promise<ILeaderBoard[]> {\n    const teams = await this.teams.findAll();\n    const matches = await this.matches.findAll();\n\n    return teams.map((team) => {\n      const homeMatches = matches.filter((match) => match.homeTeamId === team.id\n      && !match.inProgress);\n      const awayMatches = matches.filter((match) => match.awayTeamId === team.id\n      && !match.inProgress);\n\n      const home = new TeamPerformance(homeMatches);\n      const away = new TeamPerformance(awayMatches);\n\n      const totalPerformance = LeaderBoardModel.createTeamsHomeAndAway(\n        home,\n        away,\n      );\n      return {\n        name: team.teamName,\n        ...totalPerformance,\n      };\n    }).sort(LeaderBoardModel.sortLeaderboardTeams);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f11a23937492e9ae5fbd1fccc6f2992a55fbfe2e"},"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/teamPerformance.ts":{"path":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/teamPerformance.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":8,"column":8},"end":{"line":9,"column":87}},"3":{"start":{"line":8,"column":47},"end":{"line":9,"column":77}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":98}},"5":{"start":{"line":12,"column":46},"end":{"line":12,"column":89}},"6":{"start":{"line":15,"column":8},"end":{"line":16,"column":87}},"7":{"start":{"line":15,"column":47},"end":{"line":16,"column":77}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":126}},"9":{"start":{"line":19,"column":58},"end":{"line":19,"column":121}},"10":{"start":{"line":22,"column":8},"end":{"line":22,"column":126}},"11":{"start":{"line":22,"column":58},"end":{"line":22,"column":121}},"12":{"start":{"line":25,"column":8},"end":{"line":25,"column":59}},"13":{"start":{"line":28,"column":31},"end":{"line":28,"column":56}},"14":{"start":{"line":29,"column":27},"end":{"line":29,"column":44}},"15":{"start":{"line":30,"column":8},"end":{"line":30,"column":49}},"16":{"start":{"line":33,"column":8},"end":{"line":34,"column":57}},"17":{"start":{"line":37,"column":28},"end":{"line":37,"column":50}},"18":{"start":{"line":38,"column":27},"end":{"line":38,"column":46}},"19":{"start":{"line":39,"column":8},"end":{"line":40,"column":24}},"20":{"start":{"line":40,"column":12},"end":{"line":40,"column":24}},"21":{"start":{"line":41,"column":27},"end":{"line":41,"column":86}},"22":{"start":{"line":42,"column":8},"end":{"line":42,"column":26}},"23":{"start":{"line":45,"column":0},"end":{"line":45,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":25},"end":{"line":10,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":35},"end":{"line":8,"column":36}},"loc":{"start":{"line":8,"column":47},"end":{"line":9,"column":77}},"line":8},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":17},"end":{"line":13,"column":5}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":35},"end":{"line":12,"column":36}},"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":89}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":22},"end":{"line":17,"column":5}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":35},"end":{"line":15,"column":36}},"loc":{"start":{"line":15,"column":47},"end":{"line":16,"column":77}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":21},"end":{"line":20,"column":5}},"line":18},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":35},"end":{"line":19,"column":36}},"loc":{"start":{"line":19,"column":58},"end":{"line":19,"column":121}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":19},"end":{"line":23,"column":5}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":35},"end":{"line":22,"column":36}},"loc":{"start":{"line":22,"column":58},"end":{"line":22,"column":121}},"line":22},"11":{"name":"(anonymous_11)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":23},"end":{"line":26,"column":5}},"line":24},"12":{"name":"(anonymous_12)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":22},"end":{"line":31,"column":5}},"line":27},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":21},"end":{"line":35,"column":5}},"line":32},"14":{"name":"(anonymous_14)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":21},"end":{"line":43,"column":5}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":47},"end":{"line":9,"column":77}},"type":"cond-expr","locations":[{"start":{"line":8,"column":54},"end":{"line":9,"column":33}},{"start":{"line":9,"column":36},"end":{"line":9,"column":77}}],"line":8},"1":{"loc":{"start":{"line":15,"column":47},"end":{"line":16,"column":77}},"type":"cond-expr","locations":[{"start":{"line":15,"column":54},"end":{"line":16,"column":33}},{"start":{"line":16,"column":36},"end":{"line":16,"column":77}}],"line":15},"2":{"loc":{"start":{"line":19,"column":72},"end":{"line":19,"column":120}},"type":"cond-expr","locations":[{"start":{"line":19,"column":79},"end":{"line":19,"column":98}},{"start":{"line":19,"column":101},"end":{"line":19,"column":120}}],"line":19},"3":{"loc":{"start":{"line":22,"column":72},"end":{"line":22,"column":120}},"type":"cond-expr","locations":[{"start":{"line":22,"column":79},"end":{"line":22,"column":98}},{"start":{"line":22,"column":101},"end":{"line":22,"column":120}}],"line":22},"4":{"loc":{"start":{"line":39,"column":8},"end":{"line":40,"column":24}},"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":40,"column":24}},{"start":{"line":39,"column":8},"end":{"line":40,"column":24}}],"line":39}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/teamPerformance.ts","sources":["/home/marcelo/trybe/Projetos/projetos/backend/sd-032-a-trybe-futebol-clube/app/backend/src/models/teamPerformance.ts"],"names":[],"mappings":";;AAEA,MAAqB,eAAe;IAGlC,YAAY,OAAiB;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAED,cAAc,CAAC,IAAa;QAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,KAAa,EAAE,EAAE,CAC3C,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa;cACvB,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC;IACjF,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CACxB,CAAC,KAAa,EAAE,EAAE,CAAC,KAAK,CAAC,aAAa,KAAK,KAAK,CAAC,aAAa,CAC/D,CAAC,MAAM,CAAC;IACX,CAAC;IAED,WAAW,CAAC,IAAa;QACvB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,KAAa,EAAE,EAAE,CAC3C,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa;cACvB,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC;IACjF,CAAC;IAED,UAAU,CAAC,IAAa;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,UAAkB,EAAE,KAAa,EAAE,EAAE,CAC/D,UAAU,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,QAAQ,CAAC,IAAa;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,UAAkB,EAAE,KAAa,EAAE,EAAE,CAC/D,UAAU,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,YAAY,CAAC,IAAa;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,WAAW,CAAC,IAAa;QACvB,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACjD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAErC,OAAO,CAAC,cAAc,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;IAC3C,CAAC;IAED,UAAU,CAAC,IAAa;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;cAC9B,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,UAAU,CAAC,IAAa;QACtB,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;QAEvC,IAAI,UAAU,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QAElC,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/E,OAAO,UAAU,CAAC;IACpB,CAAC;CACF;AA7DD,kCA6DC","sourcesContent":["import IMatch from '../Interfaces/IMatches';\n\nexport default class TeamPerformance {\n  private matches: IMatch[];\n\n  constructor(matches: IMatch[]) {\n    this.matches = matches;\n  }\n\n  totalVictories(home: boolean): number {\n    return this.matches.filter((match: IMatch) =>\n      (home ? match.homeTeamGoals\n        > match.awayTeamGoals : match.awayTeamGoals > match.homeTeamGoals)).length;\n  }\n\n  totalDraws(): number {\n    return this.matches.filter(\n      (match: IMatch) => match.homeTeamGoals === match.awayTeamGoals,\n    ).length;\n  }\n\n  totalLosses(home: boolean): number {\n    return this.matches.filter((match: IMatch) =>\n      (home ? match.homeTeamGoals\n        < match.awayTeamGoals : match.awayTeamGoals < match.homeTeamGoals)).length;\n  }\n\n  goalsFavor(home: boolean): number {\n    return this.matches.reduce((totalGoals: number, match: IMatch) =>\n      totalGoals + (home ? match.homeTeamGoals : match.awayTeamGoals), 0);\n  }\n\n  goalsOwn(home: boolean): number {\n    return this.matches.reduce((totalGoals: number, match: IMatch) =>\n      totalGoals + (home ? match.awayTeamGoals : match.homeTeamGoals), 0);\n  }\n\n  goalsBalance(home: boolean): number {\n    return this.goalsFavor(home) - this.goalsOwn(home);\n  }\n\n  totalPoints(home: boolean): number {\n    const totalVictories = this.totalVictories(home);\n    const totalDraws = this.totalDraws();\n\n    return (totalVictories * 3) + totalDraws;\n  }\n\n  totalGames(home: boolean): number {\n    return this.totalVictories(home)\n    + this.totalDraws() + this.totalLosses(home);\n  }\n\n  efficiency(home: boolean): number {\n    const totalPoints = this.totalPoints(home);\n    const totalGames = this.matches.length;\n\n    if (totalGames === 0) return 0.00;\n\n    const efficiency = Number(((totalPoints * 100) / (totalGames * 3)).toFixed(2));\n\n    return efficiency;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32293796ee905bd30aa71b719e0eb4678d456c47"}}